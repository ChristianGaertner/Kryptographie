<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Informatik Blog by ChristianGaertner</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>Informatik Blog</h1>
          <h2>Keep it cool.</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/ChristianGaertner/InfBlog/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/ChristianGaertner/InfBlog/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/ChristianGaertner/InfBlog" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <h1>
<a name="kryptographie" class="anchor" href="#kryptographie"><span class="octicon octicon-link"></span></a>Kryptographie</h1>

<p>Los gehts! Wer nicht weiß was oder wer das ist sollte jetzt aufpassen!</p>

<p>Kryptographie ist die Wissenschaft der Verschlüsselung und befasst sich mit der Geheimhaltung von vertraulichen Informationen.</p>

<h2>
<a name="doch-wie-funktioniert-das-ganze" class="anchor" href="#doch-wie-funktioniert-das-ganze"><span class="octicon octicon-link"></span></a>Doch wie funktioniert das ganze?</h2>

<p>Es gibt viele verschiedene Arten der Verschlüsselung. Hier werden wir uns auf 3 mehr oder weniger simple Verfahren konzentrieren.</p>

<h3>
<a name="caesar" class="anchor" href="#caesar"><span class="octicon octicon-link"></span></a>Caesar</h3>

<p>Caesar ist zugegeben die einfachste aller Verschlüsselungen und viele bereits aus dem Kindes-Alter bekannt, damals noch mit Dreh-Kärtchen oder ähnlichem.</p>

<p>Basieren tut diese Verschlüsselungsart auf der Verschiebung von einzelne Buchstaben.</p>

<p>Ein Beispiel:</p>

<p><code>ABCD =&gt; BCDE</code></p>

<p>Angewendet wurde der Schlüssel <code>A =&gt; B</code>, oder einfach nur <code>B</code>.</p>

<p>Wie man unschwer erkennen kann, lässt sich das ganze schnell und einfach durchführen (und ebenso schnell zurückrechnen).</p>

<p>Al­go­rith­mische Darstellung (Pseudo-Code):</p>

<p>(Buchstaben werden als Zahl dargestellt (A=1, B=2, ..., Z=25).</p>

<p>Buchstabe <code>x</code> soll verschlüsselt werden mit Schlüssel <code>s</code>:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">V</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span><span class="nx">x</span><span class="p">)</span> <span class="o">=</span> <span class="p">((</span><span class="kr">int</span><span class="p">)</span> <span class="nx">x</span> <span class="o">+</span>  <span class="p">(</span><span class="kr">int</span><span class="p">)</span> <span class="nx">n</span><span class="p">)</span> <span class="nx">mod</span> <span class="mi">26</span>
</pre></div>

<p>Und entschlüsselt wird dann sehr ähnlich:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">E</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span><span class="nx">x</span><span class="p">)</span> <span class="o">=</span> <span class="p">((</span><span class="kr">int</span><span class="p">)</span><span class="nx">x</span> <span class="o">-</span> <span class="p">(</span><span class="kr">int</span><span class="p">)</span> <span class="nx">n</span><span class="p">)</span> <span class="nx">mod</span> <span class="mi">26</span>
</pre></div>

<p><strong>Achtung:</strong> Diese Methode funktioniert <em>nur</em> mit Buchstaben im Alphabet <em>(A-Z)</em> und auch nur groß <em>oder</em> klein Buchstaben. Es wird also empfohlen vorher alle Buchstaben in eine Schreibweise zu konvertieren und Leerzeichen zu entfernen.</p>

<div class="highlight highlight-javascript"><pre><span class="nx">V</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">(),</span> <span class="nx">x</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\s+/g</span><span class="p">,</span> <span class="s1">''</span><span class="p">))</span> <span class="o">=</span> <span class="p">((</span><span class="kr">int</span><span class="p">)</span> <span class="nx">x</span> <span class="o">+</span>  <span class="p">(</span><span class="kr">int</span><span class="p">)</span> <span class="nx">n</span><span class="p">)</span> <span class="nx">mod</span> <span class="mi">26</span>
<span class="nx">E</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="nx">x</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\s+/g</span><span class="p">,</span> <span class="s1">''</span><span class="p">))</span> <span class="o">=</span> <span class="p">((</span><span class="kr">int</span><span class="p">)</span><span class="nx">x</span> <span class="o">-</span> <span class="p">(</span><span class="kr">int</span><span class="p">)</span> <span class="nx">n</span><span class="p">)</span> <span class="nx">mod</span> <span class="mi">26</span>
</pre></div>

<p>In diesem Beispiel wurden alle Zeichen erst in Großbuchstaben konvertiert (<code>.toUpperCase()</code>) und anschließend wird mit Hilfe von regulären Ausdrücken (<em>RegEx</em>) Leerzeichen entfernt (<code>.replace(/\s+/g, '')</code>). Natürlich gibt uns diese Methode noch immer Fehler, wenn Sonderzeichen im Text vorhanden sind.</p>

<p>Eine mögliche Lösung wäre nicht streng der Spezifikation der Caesar Verschlüsselung zu folgen und auf den <em>ASCII Code</em> (<em>American Standard Code for Information Interchange</em>) zu setzten und das Alphabet zu verlassen. Anstatt bei Z wieder zu A umzuschlagen wird einfach weiter im ASCII Code gegangen - und somit jedes Zeichen verschlüsseln zu können. Dadurch werden unsere Funktionen auch wieder um ein vielfaches Einfacher:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">V</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span><span class="nx">x</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="nx">x</span> <span class="o">+</span> <span class="nx">n</span><span class="p">)</span>
<span class="nx">E</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span><span class="nx">x</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="nx">x</span> <span class="o">-</span> <span class="nx">n</span><span class="p">)</span>
<span class="c1">// s &amp; x müssen als Zahl vorliegen (ASCII Code)</span>
</pre></div>

<h3>
<a name="vigen%C3%A8re" class="anchor" href="#vigen%C3%A8re"><span class="octicon octicon-link"></span></a>Vigenère</h3>

<p>Um die Probleme der schnellen und einfach Entschlüsselung des Caesar Chiffres vorzubeugen wurde einige Zeit später die Vigenère Verschlüsselung entwickelt. Jene basiert zwar immer noch auf dem gleichen Prinzip wie Caesar, nämlich dem Verschieben von Buchstaben, aber ist etwas sicherer, da der Schlüssel nicht nur aus einem Buchstaben besteht.</p>

<p>Konkret sieht das ganze so aus, dass ein Schlüssel <strong>Wort</strong> genutzt wird. Auf den ersten Buchstabe des Klartextes wird der erste Buchstabe des Schlüssel-Wortes angewendet, immer 1. &amp; 1. und 2. &amp; 2.</p>

<p>Bis das Ende des Schlüssel-Wortes erreicht wird. Nun wird wieder mit dem 1. Buchstabe des Schlüssel Wortes angefangen, usw.</p>

<p>Pseudo-Code:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">V</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span><span class="nx">x</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="nx">x</span> <span class="o">+</span> <span class="nx">n</span><span class="p">)</span> <span class="c1">// Caesar!</span>

<span class="k">for</span> <span class="p">(</span><span class="nx">index</span> <span class="nx">i</span> <span class="k">in</span> <span class="nx">klartext</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">put</span> <span class="nx">V</span><span class="p">(</span><span class="nx">schluessel</span><span class="p">[</span><span class="nx">i</span> <span class="nx">mod</span> <span class="nx">schluessel</span><span class="p">.</span><span class="nx">length</span><span class="p">],</span> <span class="nx">klartext</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span>
<span class="p">}</span>
</pre></div>

<p>Ein Beispiel:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">klartext</span> <span class="o">=</span> <span class="s2">"GEHEIMENACHRICHT"</span>
<span class="nx">schluessel</span> <span class="o">=</span> <span class="s2">"KEY"</span>
<span class="c1">// Vigenère ausführen</span>
<span class="c1">// stdout:</span>
<span class="nx">RJGPNLPSZNMQTHGE</span>
</pre></div>

<h3>
<a name="rsa" class="anchor" href="#rsa"><span class="octicon octicon-link"></span></a>RSA</h3>

<p>Der Aufmerksame Leser wird schnell festgestellt haben, dass beide Methoden eine große Schwäche aufweisen - der Transfer des Schlüssels. Eine kleine Darstellung:</p>

<pre><code>
|------|                |-----------|              |---------|
|      |   Cipher       |Böse Hacker|   Cipher     |         |
| Bob  | ===========&gt;   | Cipher+Key| ===========&gt; |  Alice  |
|      |     Key        | =Klartext |      Key     |         |
|------|                |-----------|              |---------|
</code></pre>

<p>Wie man sieht kann man den Key nicht mit übertragen, da sonst jeder den Cipher entschlüsseln könnte.</p>

<p>Einmal einen Schlüssel wählen in einem private Gespräch ist meist ebenfalls keine Lösung, da oft nur mit einem Server kommuniziert wird, den man nicht mal eben zu StarBucks einladen kann. Die Lösung lautet asymmetrische Verschlüsselung.</p>

<p>Bisher haben wir uns symmetrische Verschlüsselungs-Methoden angeguckt, ein Schlüssel wird für Ver- und Entschlüsselung genutzt. Eine asymmetrische Herangehensweise, wie <em>RSA</em> sie ist, arbeitet etwas anders.</p>

<p>Hierzu wieder ein kleines Beispiel.</p>

<p>Der Klartext wird in eine Box gelegt und mit einem Schloss verschlossen. Der Empfänger braucht jetzt den <strong>gleichen</strong> Schlüssel um die Nachricht zu lesen. So hat Caesar funktioniert.</p>

<p>RSA geht einen anderen Weg.</p>

<p>Zunächst muss ich wissen, <em>wem</em> ich eine Nachricht schicken will. Von dieser Person fordere ich nun ein Schloss an, mit diesem verschließe ich die Box und schicke ihn an den Empfänger. Nur dieser hat den Schlüssel und kann somit als einziger die Box öffnen.</p>

<p>Das Schloss fungiert als <strong>öffentlicher Schlüssel</strong> und der Schlüssel, der niemanden gegeben wird, fungiert als <strong>privater Schlüssel</strong> - <em>asymmetrische</em>.</p>

<p>Doch was sind das für Schlüssel auch wieder Buchstaben zum Verschieben - Nein. RSA ist <em>etwas</em> komplexer.</p>

<p>Erzeugen des Schlüssel-Paares:</p>

<ul>
<li>Wählen von zwei Primzahlen <code>p=11</code> und <code>q=13</code> (in der Realtität sollten dies große Zahlen sein!)</li>
<li>Ein Teil des öffentlichen Schlüssel <code>N = p * q = 143</code>
</li>
<li>Nun wird der zweite Teil des Schlüssels generiert:</li>
</ul><p>Erreicht wird dies mit der eulersche  φ-Funktion:</p>

<pre><code>φ(N) = (p - 1)(q - 1)= φ(143) = (11 - 1)(13 - 1) = 120
</code></pre>

<p>Der zweite Teil des Schlüssel wird <code>e</code> genannt und muss zu <code>120</code> teilerfremd sein. Also z.B. <code>e=23</code></p>

<ul>
<li>Der öffentliche Schlüssel ist somit <code>N=143;e=23</code>
</li>
<li>Der geheime Schlüssel berechnet sich aus den Inversen zu <code>e</code>.</li>
</ul><pre><code>e * d + k * φ(N) = 1 = ggT(e, φ(N))
// Konkret:
23 * d + k * 120 = 1 = ggT(23, 120)
</code></pre>

<ul>
<li>Nun lässt sich daraus der geheime Schlüssel berechnen: <code>d=47</code>
</li>
</ul><h3>
<a name="das-verschl%C3%BCsseln" class="anchor" href="#das-verschl%C3%BCsseln"><span class="octicon octicon-link"></span></a>Das Verschlüsseln</h3>

<p>Die Klartext Nachricht wird in den folgenden Darstellung stets <code>m</code> genannt und die verschlüsselte Nachricht <code>c</code>.</p>

<div class="highlight highlight-javascript"><pre><span class="nx">c</span> <span class="err">≡</span> <span class="nx">m</span><span class="o">^</span><span class="nx">e</span> <span class="nx">mod</span> <span class="nx">N</span>
<span class="c1">// m &lt; N !!</span>
</pre></div>

<p>Beispiel (wir verschlüsseln die Zahl 4):</p>

<div class="highlight highlight-javascript"><pre><span class="mi">75</span> <span class="err">≡</span> <span class="mi">4</span><span class="o">^</span><span class="mi">23</span> <span class="nx">mod</span> <span class="mi">143</span>
</pre></div>

<p>Diesen Cipher können wir nun getrost verschicken. Auf der anderen Seite kann <code>c=75</code> wieder entschlüsselt werden, gegeben man besitzt den geheimen Schlüssel:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">m</span> <span class="err">≡</span> <span class="nx">c</span><span class="o">^</span><span class="nx">d</span> <span class="nx">mod</span> <span class="nx">N</span>
</pre></div>

<p>Konkret:</p>

<div class="highlight highlight-javascript"><pre><span class="mi">4</span> <span class="err">≡</span> <span class="mi">75</span><span class="o">^</span><span class="mi">47</span> <span class="nx">mod</span> <span class="nx">N</span>
</pre></div>

<p>Und so hat der private Schlüssel <code>d</code> nie das System des Empfängers verlassen - nur jener kann die Nachricht lesen. Doch wie sicher ist das System, wenn jeder den öffentlichen Schlüssel <code>N</code> kennt, aus dem man meinen privaten Schlüssel errechnet hat.</p>

<p>In der Tat lässt sich das ganze knacken, aber es ist sehr schwer. Man muss wissen, aus welchen Primzahlen <code>N</code> errechnet worden ist. Dies ist eine komplexe Rechenoperation, wenn wir mit sehr großen Zahlen zu tun haben.</p>

<p>Computer schaffen es heutzutage problemlos 512 Byte Schlüssel zu knacken.</p>

<p>Vorgehensweise:</p>

<p>Alle Primzahlen kenn bis <code>sqrt(N)</code> und folgenden Pseudo-Code ausführen:</p>

<div class="highlight highlight-javascript"><pre>
<span class="k">for</span> <span class="p">(</span><span class="nx">p</span> <span class="k">in</span> <span class="nx">primes</span><span class="p">.</span><span class="nx">until</span><span class="p">(</span><span class="nx">sqrt</span><span class="p">(</span><span class="nx">N</span><span class="p">))</span> <span class="p">{</span>
   <span class="nx">q</span> <span class="o">=</span> <span class="nx">N</span> <span class="o">/</span> <span class="nx">p</span>
   <span class="k">if</span> <span class="p">(</span><span class="nx">primes</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="nx">q</span><span class="p">))</span> <span class="p">{</span>
      <span class="k">return</span> <span class="p">{</span><span class="nx">p</span><span class="p">,</span> <span class="nx">q</span><span class="p">}</span> <span class="c1">// Geknackt</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>Problem hierbei ist natürlich, dass die Anzahl der Rechenoperation stark steigt, je größer N ist.</p>

<p>Momentan können 4096 Byte Schlüssel noch nicht geknackt werden, aber vorraus gesagt wurde, dass es in etwa 10 Jahren durchaus möglich ist. Unsere Daten sind also auf Zeit sicher.</p>
        </section>

        <footer>
          Informatik Blog is maintained by <a href="https://github.com/ChristianGaertner">ChristianGaertner</a><br>
          This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

        
      </div>
    </div>
  </body>
</html>